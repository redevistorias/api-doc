{
    "swagger": "2.0",
    "info": {
      "description": "Esta é a documentação oficial da API pública da Rede Vistorias. <br /><br />Além do ambiente de produção, oferecemos um ambiente de testes (sandbox): <br /><ul><li>Produção: https://api.redevistorias.com.br/erp</li><li>Sandbox: https://api.sandbox.redevistorias.com.br/erp</li></ul>.<br />As rotas de autenticação, por sua vez, possuem sua própria URL, também possuindo ambientes de produção e sandbox: <br /><br /> <ul><li>Produção: https://auth.redevistorias.com.br</li><li>Sandbox: https://auth.sandbox.redevistorias.com.br</li></ul>",
      "version": "1.1",
      "title": "Rede Vistorias ERP API",
      "contact": {
        "email": "ti@redevistorias.com.br"
      },
      "license": {
        "name": "Apache 2.0",
        "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
      }
    },
    "servers": [
      {
        "url": "/"
      }
    ],
    "tags": [
      {
        "name": "Autenticação",
        "description": "Para a integração de um serviço externo com a API da Rede Vistorias é necessária a utilização de uma API Key fornecida pelo usuário (ou adquirida no cadastro do cliente). Possuindo uma API Key é possível gerar um 'Bearer token' com validade de 1 dia. Este token é obrigatório em todos os requests na API da Rede Vistorias."
      },
      {
        "name": "Clientes",
        "description": "Integração de novos clientes à API da Rede Vistorias."
      },
      {
        "name": "Pedidos",
        "description": "A API da Rede Vistorias provê uma forma de serviços externos realizarem pedidos de vistorias. Todas alterações no pedido que sejam relevantes para o cliente serão notificadas por um webhook no endpoint informado no momento da geração da API Key. Cada webhook possui um formato específico para a ação que ele representa."
      },
      {
        "name": "Price Preview",
        "description": "A API da Rede Vistorias provê uma rota para simular o preço de uma vistoria."
      },
      {
        "name": "Webhook",
        "description": "O serviço do Rede Vistorias utilizada webhooks para notificar o ERP sobre mudanças do estado do pedido realizado. Esse webhook é informado pelo usuário do sistema no momento de criação da integração. Os eventos existentes são emitidos quando um pedido é aprovado, rejeitado e finalizado."
      },
      {
        "name": "UploadURL",
        "description": "A API da Rede Vistorias provê uma URL assinada pelo S3, para upload de arquivos."
      }
    ],
    "schemes": [
      "https"
    ],
    "paths": {
      "https://auth.sandbox.redevistorias.com.br/token": {
        "post": {
          "tags": [
            "Autenticação"
          ],
          "summary": "Gera o token de acesso",
          "description": "URL de acesso (sandbox): https://auth.sandbox.redevistorias.com.br/token <br />URL de acesso: https://auth.redevistorias.com.br/token <br />![Diagrama de sequencia do processo de adquirir um token baseado em uma api key](../images/apikey_authorization.jpg)<br /><br />Esta requisição aceita dois tipos de \"grant_type\": <ul><li>api_key: O token gerado neste tipo de requisição é utilizado para fazer novos pedidos na API (utilizado nas requisições de <a href='#tag/Pedidos'>Pedidos</a> ou <a href='#tag/Price-Preview'>Price Preview</a>)</li><li>client_credentials: Utilizado para cadastrar novos clientes em nossa API.</li></ul> ",
          "operationId": "generateToken",
          "consumes": [
            "application/x-www-form-urlencoded"
          ],
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "in": "formData",
              "name": "formData",
              "description": "Dados do cliente que deverá ser adicionado",
              "required": true,
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/definitions/TokenERP"
                  },
                  {
                    "$ref": "#/definitions/TokenERPClient"
                  }
                ]
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/TokenResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            }
          }
        }
      },
      "https://api.sandbox.redevistorias.com.br/erp/upload_url": {
        "post": {
          "tags": [
            "UploadURL"
          ],
          "summary": "Gera uma URL assinada no S3",
          "description": "Gera uma URL assinada do S3, permitindo salvar um arquivo (pdf). Esta ação é utilizada nos casos dos pedidos que requerem uma inspeção anterior (Saída e Transferência).",
          "operationId": "uploadURL",
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "in": "header",
              "name": "Authorization",
              "type": "string",
              "required": true,
              "example": "Bearer eyJ0eXAiOiJKV1QiL..."
            }
          ],
          "responses": {
            "200": {
              "description": "Generated",
              "schema": {
                "type": "object",
                "properties": {
                  "remote_name": {
                    "type": "string",
                    "example": "75300A80-2E79-492F-8B3F-4B6239D1319F\/ABD57818-40FE-11E9-A15D-02420A00001D"
                  },
                  "url": {
                    "type": "string",
                    "example": "https:\/\/s3.amazonaws.com\/upload.dev.redevistorias.com.br\/75300A80-2E79-492F-8B3F-4B6239D1319F\/ABD57818-40FE-11E9-A15D-02420A00001D?x-amz-acl=public-read-write&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Security..."
                  }
                }
              }
            },
            "500": {
              "description": "Internal Error",
              "schema": {
                "type": "object",
                "properties": {
                  "error": {
                    "type": "string",
                    "example": "Error trying to generate the URL."
                  }
                }
              }
            }
          }
        }
      },
      "https://api.sandbox.redevistorias.com.br/erp/clients": {
        "post": {
          "tags": [
            "Clientes"
          ],
          "summary": "Cadastra um novo cliente na API do Rede Vistorias",
          "description": "URL de acesso (sandbox): https://api.sandbox.redevistorias.com.br/erp/clients <br /><br />URL de acesso: https://api.redevistorias.com.br/erp/clients <br /><br />Novos clientes podem ser cadastrados diretamente pela API disponibilizada pela Rede Vistorias, passando os dados informados abaixo. <br /><br /> ![Diagrama de criação do cliente através da API](../images/new_client.jpg) <br /><br />Todavia, caso o cliente já exista em nosso banco de dados, um erro de conflito será gerado.",
          "operationId": "addNaturalPerson",
          "consumes": [
            "application/json"
          ],
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "in": "header",
              "name": "Authorization",
              "type": "string",
              "required": true,
              "example": "Bearer eyJ0eXAiOiJKV1QiL..."
            },
            {
              "in": "body",
              "name": "body",
              "description": "A API da Rede Vistorias provê uma forma de serviços externos adicionar novos clientes no sistema. Este cliente pode ser tanto uma pessoa física quanto uma pessoa jurídica. No caso do cliente ser pessoa jurídica, é necessário também informar os dados do responsável na empresa - seu documento, nome, contato e endereço.",
              "required": true,
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/definitions/ClientPessoaFisica"
                  },
                  {
                    "$ref": "#/definitions/ClientPessoaJuridica"
                  }
                ]
              }
            }
          ],
          "responses": {
            "201": {
              "description": "Created",
              "schema": {
                "type": "object",
                "properties": {
                  "api_key": {
                    "type": "string"
                  }
                }
              }
            },
            "400": {
              "description": "Bad Request"
            },
            "401": {
              "description": "Unauthorized"
            },
            "409": {
              "description": "Already existing client",
              "schema": {
                "type": "object",
                "properties": {
                  "auth_domain": {
                    "type": "string",
                    "example": "https://painel.redevistorias.com.br/integration",
                    "description": "Pagina para o usuário realizar a integração manual."
                  }
                }
              }
            }
          }
        }
      },
      "https://api.sandbox.redevistorias.com.br/erp/orders": {
        "post": {
          "tags": [
            "Pedidos"
          ],
          "summary": "Cadastra um novo pedido de vistoria na API do Rede Vistorias.",
          "description": "O retorno é o código cadastrado da vistoria, e o preço que será consumido do pacote contratado pelo cliente, em metros quadrados. <br />No caso dos pedidos do tipo saída e conferência, é necessário fazer o upload do pdf da vistoria inicial em nossa plataforma, e informar o nome do arquivo no corpo da mensagem desta requisição.<br />Para fazer o upload, primeiro deve-se utilizar a rota de <a href='#UploadURL'>Upload URL</a>. Com essa rota, é possível fazer upload do arquivo utilizando a URL fornecida. Já no campo file, dentro do previous_inspection, deve-se informar o remote_name (também obtido no request anterior), para que o PDF possa ser localizado. <br />URL de acesso (sandbox): https://api.sandbox.redevistorias.com.br/erp/orders <br /><br />URL de acesso: https://api.redevistorias.com.br/erp/orders",
          "operationId": "addPedido",
          "consumes": [
            "application/json"
          ],
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "in": "header",
              "name": "Authorization",
              "type": "string",
              "required": true,
              "example": "Bearer eyJ0eXAiOiJKV1QiL..."
            },
            {
              "in": "body",
              "name": "body",
              "description": null,
              "required": true,
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/definitions/PedidoEntrada"
                  },
                  {
                    "$ref": "#/definitions/PedidoSaida"
                  },
                  {
                    "$ref": "#/definitions/PedidoConferencia"
                  },
                  {
                    "$ref": "#/definitions/PedidoTransferencia"
                  }
                ]
              }
            }
          ],
          "responses": {
            "201": {
              "description": "OK",
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "example": "VLE.987.00125",
                    "description": "Código de identificação da vistoria."
                  },
                  "price": {
                    "type": "string",
                    "example": "85.50",
                    "description": "Preço a pagar pela vistoria."
                  }
                }
              }
            },
            "400": {
              "description": "Bad request."
            },
            "401": {
              "description": "Unauthorized"
            }
          }
        }
      },
      "https://api.sandbox.redevistorias.com.br/erp/price_preview": {
        "post": {
          "tags": [
            "Price Preview"
          ],
          "summary": "Permite verificar o preço da vistoria. Este preço é o crédito que será consumido do pacote contratado pelo cliente, em metros quadrados.",
          "description": "URL de acesso (sandbox): https://api.sandbox.redevistorias.com.br/erp/price_preview <br /><br />URL de acesso: https://api.redevistorias.com.br/erp/price_preview",
          "operationId": "addPricePreview",
          "consumes": [
            "application/json"
          ],
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "in": "body",
              "name": "body",
              "description": null,
              "required": true,
              "schema": {
                "$ref": "#/definitions/PricePreview"
              }
            },
            {
              "in": "header",
              "name": "Authorization",
              "type": "string",
              "required": true,
              "example": "Bearer eyJ0eXAiOiJKV1QiL..."
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "type": "object",
                "properties": {
                  "price": {
                    "type": "string",
                    "example": "85.50",
                    "description": "O preço da vistoria."
                  }
                }
              }
            },
            "400": {
              "description": "Bad request."
            },
            "401": {
              "description": "Unauthorized"
            }
          }
        }
      },
      "/acceptedWebhook": {
        "post": {
          "tags": [
            "Webhook"
          ],
          "summary": "Accepted Webhook",
          "description": "Este webhook é executado quando o pedido foi aceito.",
          "operationId": "acceptedWebhook",
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "in": "body",
              "name": "body",
              "required": true,
              "schema": {
                "$ref": "#/definitions/AcceptedWebhook"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            }
          }
        }
      },
      "/finishedWebhook": {
        "post": {
          "tags": [
            "Webhook"
          ],
          "summary": "Finished Webhook",
          "description": "Este webhook é executado quando a vistoria é executada e finalizada.",
          "operationId": "finishedWebhook",
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "in": "body",
              "name": "body",
              "required": true,
              "schema": {
                "$ref": "#/definitions/FinishedWebhook"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            }
          }
        }
      },
      "/rejectedWebhook": {
        "post": {
          "tags": [
            "Webhook"
          ],
          "summary": "Rejected Webhook",
          "description": "Este webhook é executado quando, por razões diversas, o pedido foi rejeitado.",
          "operationId": "rejectedWebhook",
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "in": "body",
              "name": "body",
              "required": true,
              "schema": {
                "$ref": "#/definitions/RejectedWebhook"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            }
          }
        }
      }
    },
    "definitions": {
      "AcceptedWebhook": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "example": "VLE.987.00125",
            "description": "Código do pedido"
          },
          "status": {
            "type": "string",
            "example": "ACCEPTED",
            "description": "Estado do pedido"
          },
          "building_id": {
            "type": "string",
            "example": "Apt 203 - Ed Atol das Rocas",
            "description": "Identificação do imóvel."
          },
          "price": {
            "type": "string",
            "example": "75.00",
            "description": "Preço temporário"
          },
          "observation": {
            "type": "string",
            "example": "As chaves serão retiradas na imobiliária às 14h do dia 22.",
            "description": "Observações sobre o pedido"
          }
        }
      },
      "Address": {
        "type": "object",
        "required": [
          "street",
          "number",
          "zipcode",
          "neighborhood",
          "city",
          "state"
        ],
        "properties": {
          "street": {
            "type": "string",
            "example": "R. Pastor William Richard Schisler Filho"
          },
          "number": {
            "type": "integer",
            "example": 452
          },
          "complement": {
            "type": "string",
            "example": "Sala 3"
          },
          "zipcode": {
            "type": "string",
            "example": "88034-100"
          },
          "neighborhood": {
            "type": "string",
            "example": "Itacorubi"
          },
          "city": {
            "type": "string",
            "example": "Florianópolis"
          },
          "state": {
            "type": "string",
            "example": "SC",
            "enum": [
              "AC",
              "AL",
              "AP",
              "AM",
              "BA",
              "CE",
              "DF",
              "ES",
              "GO",
              "MA",
              "MT",
              "MS",
              "MG",
              "PA",
              "PB",
              "PR",
              "PE",
              "PI",
              "RJ",
              "RN",
              "RS",
              "RO",
              "RR",
              "SC",
              "SP",
              "SE",
              "TO"
            ]
          }
        }
      },
      "ApiResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "format": "int32"
          },
          "type": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ClientPessoaFisica": {
        "title": "Pessoa Física",
        "type": "object",
        "required": [
          "client_type",
          "document",
          "name",
          "email",
          "phone",
          "address",
          "hooks"
        ],
        "properties": {
          "client_type": {
            "type": "string",
            "example": "pf",
            "description": "pf para Pessoa Física"
          },
          "document": {
            "type": "string",
            "example": "000.000.999-99",
            "description": "Identificador do cliente, CPF para pessoas físicas."
          },
          "name": {
            "type": "string",
            "example": "Novo Usuário",
            "description": "Nome completo do usuário, em caso de pessoa física."
          },
          "cellphone": {
            "type": "string",
            "example": "(48) 99999-9999",
            "description": "Telefone celular do usuário, se houver."
          },
          "phone": {
            "type": "string",
            "example": "(48) 3000-0000",
            "description": "Telefone do usuário."
          },
          "email": {
            "type": "string",
            "example": "ti@redevistorias.com.br",
            "description": "Email do usuário."
          },
          "website": {
            "type": "string",
            "example": "http://redevistorias.com.br",
            "description": "Site do cliente, se houver."
          },
          "address": {
            "$ref": "#/definitions/Address"
          },
          "hooks": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Hook"
            }
          }
        }
      },
      "ClientPessoaJuridica": {
        "title": "Pessoa Jurídica",
        "type": "object",
        "required": [
          "client_type",
          "document",
          "name",
          "email",
          "phone",
          "address",
          "responsible"
        ],
        "properties": {
          "client_type": {
            "type": "string",
            "example": "pj",
            "description": "pj para Pessoa Jurídica"
          },
          "document": {
            "type": "string",
            "example": "00.111.333/1000-98",
            "description": "Identificador do cliente: CNPJ, para pessoas jurídicas."
          },
          "name": {
            "type": "string",
            "example": "Novo Usuário",
            "description": "Razão social, no caso de pessoa jurídica."
          },
          "cellphone": {
            "type": "string",
            "example": "(48) 99999-9999",
            "description": "Telefone celular do usuário, se houver."
          },
          "phone": {
            "type": "string",
            "example": "(48) 3000-0000",
            "description": "Telefone do usuário."
          },
          "email": {
            "type": "string",
            "example": "ti@redevistorias.com.br",
            "description": "Email do usuário."
          },
          "website": {
            "type": "string",
            "example": "http://redevistorias.com.br",
            "description": "Site do cliente, se houver."
          },
          "address": {
            "$ref": "#/definitions/Address"
          },
          "responsible": {
            "$ref": "#/definitions/Responsible"
          },
          "hooks": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Hook"
            }
          }
        }
      },
      "Cost": {
        "type": "object",
        "required": [
          "notes"
        ],
        "properties": {
          "condominium": {
            "type": "float",
            "example": 330,
            "description": "Valor do condomínio."
          },
          "iptu": {
            "type": "float",
            "example": 267.9,
            "description": "Valor do IPTU."
          },
          "rent": {
            "type": "float",
            "example": 1400,
            "description": "Valor do aluguel."
          },
          "notes": {
            "type": "string",
            "example": "Notas que irão aparecer no relatório",
            "description": "Observações que irão aparecer no relatório final da vistoria."
          }
        }
      },
      "Detail": {
        "type": "object",
        "required": [
          "building_id",
          "building_type",
          "area",
          "inspection_type",
          "furnished",
          "modality",
          "express"
        ],
        "properties": {
          "building_id": {
            "type": "string",
            "maxLength": 30,
            "example": "Ed. Itacoru II - Bl 8 Apt 301",
            "description": "Identificação do imóvel."
          },
          "building_type": {
            "type": "string",
            "example": "Casa",
            "enum": [
              "Apartamento",
              "Casa",
              "Galpão",
              "Garagem",
              "Kitinete",
              "Loft",
              "Loja",
              "Prédio",
              "Sala",
              "Duplex",
              "Terreno"
            ]
          },
          "area": {
            "type": "float",
            "example": 345,
            "description": "Área total do imóvel."
          },
          "inspection_type": {
            "type": "string",
            "example": "entrada",
            "enum": [
              "entrada",
              "saida",
              "transferencia",
              "conferencia"
            ]
          },
          "purpose": {
            "type": "string",
            "example": "Residencial",
            "enum": [
              "Residencial",
              "Comercial",
              "Galpão"
            ]
          },
          "furnished": {
            "type": "string",
            "example": "unfurnished",
            "enum": [
              "furnished",
              "semi-furnished",
              "unfurnished"
            ]
          },
          "modality": {
            "type": "string",
            "example": "premium",
            "description": "Modalidade do pedido.",
            "enum": [
              "standard",
              "premium"
            ]
          },
          "express": {
            "type": "boolean",
            "example": true,
            "description": "Opção por vistoria express."
          },
          "details": {
            "type": "string",
            "example": "Retirar as chaves às 14:00.",
            "description": "Informações adicionais importantes ao pedido, por exemplo, local das chaves, horário de retirada, etc."
          }
        }
      },
      "FinishedWebhook": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "example": "VLE.987.00125",
            "description": "Código do pedido"
          },
          "status": {
            "type": "string",
            "example": "FINISHED",
            "description": "Estado do pedido"
          },
          "building_id": {
            "type": "string",
            "example": "Apt 203 - Ed Atol das Rocas",
            "description": "Identificação do imóvel."
          },
          "price": {
            "type": "string",
            "example": "75.00",
            "description": "Preço final."
          },
          "page_url": {
            "type": "string",
            "example": "https://vistori.as/VLE98700125",
            "description": "URL do hotiste onde o cliente poderá executar ações sobre este pedido."
          },
          "reports": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Report"
            }
          }
        }
      },
      "Hook": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "webhook",
            "enum": [
              "webhook"
            ]
          },
          "url": {
            "type": "string",
            "example": "http://example.co/hook",
            "description": "URL that handle the hook"
          }
        }
      },
      "Key": {
        "type": "object",
        "properties": {
          "simple": {
            "type": "integer",
            "example": 2,
            "description": "Quantidade de chaves simples existentes para esse imóvel."
          },
          "foursided": {
            "type": "integer",
            "example": 4,
            "description": "Quantidade de chaves \"tetra\" existentes para esse imóvel."
          },
          "others": {
            "type": "string",
            "example": "1 controle remoto",
            "description": "Quantidade de outros tipos de chaves existentes para esse imóvel."
          }
        }
      },
      "PedidoEntrada": {
        "title": "Entrada",
        "type": "object",
        "required": [
          "details",
          "address",
          "cost"
        ],
        "properties": {
          "details": {
            "$ref": "#/definitions/Detail"
          },
          "address": {
            "$ref": "#/definitions/Address"
          },
          "keys": {
            "$ref": "#/definitions/Key"
          },
          "cost": {
            "$ref": "#/definitions/Cost"
          },
          "people": {
            "$ref": "#/definitions/PessoaEntrada"
          }
        }
      },
      "PedidoSaida": {
        "title": "Saída",
        "type": "object",
        "required": [
          "details",
          "address",
          "cost",
          "previous_inspection"
        ],
        "properties": {
          "details": {
            "$ref": "#/definitions/Detail"
          },
          "address": {
            "$ref": "#/definitions/Address"
          },
          "keys": {
            "$ref": "#/definitions/Key"
          },
          "cost": {
            "$ref": "#/definitions/Cost"
          },
          "people": {
            "$ref": "#/definitions/PessoaSaida"
          },
          "previous_inspection": {
            "$ref": "#/definitions/PreviousInspection"
          }
        }
      },
      "PedidoConferencia": {
        "title": "Conferência",
        "type": "object",
        "required": [
          "details",
          "address",
          "cost",
          "previous_inspection"
        ],
        "properties": {
          "details": {
            "$ref": "#/definitions/Detail"
          },
          "address": {
            "$ref": "#/definitions/Address"
          },
          "keys": {
            "$ref": "#/definitions/Key"
          },
          "cost": {
            "$ref": "#/definitions/Cost"
          },
          "people": {
            "$ref": "#/definitions/PessoaConferencia"
          },
          "previous_inspection": {
            "$ref": "#/definitions/PreviousInspection"
          }
        }
      },
      "PedidoTransferencia": {
        "title": "Transferência",
        "type": "object",
        "required": [
          "details",
          "address",
          "cost"
        ],
        "properties": {
          "details": {
            "$ref": "#/definitions/Detail"
          },
          "address": {
            "$ref": "#/definitions/Address"
          },
          "keys": {
            "$ref": "#/definitions/Key"
          },
          "cost": {
            "$ref": "#/definitions/Cost"
          },
          "people": {
            "$ref": "#/definitions/PessoaTransferencia"
          }
        }
      },
      "Person": {
          "type": "object",
          "required": [
              "name"
          ],
          "properties": {
              "name": {
                  "type": "string",
                  "example": "Maísa Senna",
                  "description": "Nome da pessoa"
              },
              "signature": {
                  "type": "boolean",
                  "example": true,
                  "description": "Campo que indica se a assinatura é requerida"
              }
          }
      },
      "HouseHunter": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "example": "houseHunter"
            },
            "title": {
              "type": "string",
              "example": "Captador"
            },
            "content": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Person"
              }
            }
          }
      },
      "PropertyManager": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "propertyManager"
          },
          "title": {
            "type": "string",
            "example": "Administradora"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Person"
            }
          }
        }
    },
      "Owner": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "example": "owner"
            },
            "title": {
              "type": "string",
              "example": "Locador"
            },
            "content": {
              "type": "array",
              "items":{
                "$ref": "#/definitions/Person"
              }
            }
          }
      },
      "Tenant": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "tenant"
          },
          "title": {
            "type": "string",
            "example": "Locatário"
          },
          "content": {
            "type": "array",
            "items":{
              "$ref": "#/definitions/Person"
            }
          }
        }
      },
      "Guarantor": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "guarantor"
          },
          "title": {
            "type": "string",
            "example": "Fiador"
          },
          "content": {
            "type": "array",
            "items":{
              "$ref": "#/definitions/Person"
            }
          }
        }
      },
      "Witness": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "witness"
          },
          "title": {
            "type": "string",
            "example": "Testemunha"
          },
          "content": {
            "type": "array",
            "items":{
              "$ref": "#/definitions/Person"
            }
          }
        }
      },
      "RealEstateAgency": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "realEstateAgency"
          },
          "title": {
            "type": "string",
            "example": "Imobiliária"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Person"
            }
          }
        }
      },
      "RealEstateBroker": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "realEstateBroker"
          },
          "title": {
            "type": "string",
            "example": "Corretor"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Person"
            }
          }
        }
      },
      "Seller": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "seller"
          },
          "title": {
            "type": "string",
            "example": "Vendedor"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Person"
            }
          }
        }
      },
      "Buyer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "buyer"
          },
          "title": {
            "type": "string",
            "example": "Comprador"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Person"
            }
          }
        }
      },
      "PessoaEntrada": {
        "title": "Pessoa",
        "type": "array",
        "items": {
          "$ref": "#/definitions/HouseHunter",
          "$ref": "#/definitions/PropertyManager",
          "$ref": "#/definitions/Owner",
          "$ref": "#/definitions/Tenant",
          "$ref": "#/definitions/Guarantor",
          "$ref": "#/definitions/Witness"
        }
      },
      "PessoaSaida": {
        "title": "Pessoa",
        "type": "array",
        "items": {
          "$ref": "#/definitions/HouseHunter",
          "$ref": "#/definitions/PropertyManager",
          "$ref": "#/definitions/Owner",
          "$ref": "#/definitions/Tenant",
          "$ref": "#/definitions/Guarantor",
          "$ref": "#/definitions/Witness"
        }
      },
      "PessoaConferencia": {
        "title": "Pessoa",
        "type": "array",
        "items": {
          "$ref": "#/definitions/HouseHunter",
          "$ref": "#/definitions/PropertyManager",
          "$ref": "#/definitions/Owner",
          "$ref": "#/definitions/Tenant",
          "$ref": "#/definitions/Guarantor",
          "$ref": "#/definitions/Witness"
        }
      },
      "PessoaTransferencia": {
        "title": "Pessoa",
        "type": "array",
        "items": {
          "$ref": "#/definitions/HouseHunter",
          "$ref": "#/definitions/RealEstateAgency",
          "$ref": "#/definitions/RealEstateBRoker",
          "$ref": "#/definitions/Seller",
          "$ref": "#/definitions/Buyer",
          "$ref": "#/definitions/Witness"
        }
      },
      "PricePreview": {
        "type": "object",
        "required": [
          "inspection_type",
          "building_type",
          "area",
          "furnished",
          "modality",
          "express"
        ],
        "properties": {
          "inspection_type": {
            "type": "string",
            "example": "entrada",
            "description": "Tipo de vistoria que deve ser executada",
            "enum": [
              "entrada",
              "saida",
              "transferencia",
              "conferencia"
            ]
          },
          "building_type": {
            "type": "string",
            "example": "Casa",
            "description": "Tipo de imóvel",
            "enum": [
              "Apartamento",
              "Casa",
              "Galpão",
              "Garagem",
              "Kitinete",
              "Loft",
              "Loja",
              "Prédio",
              "Sala",
              "Duplex",
              "Terreno"
            ]
          },
          "area": {
            "type": "float",
            "example": 76,
            "description": "Área total do imóvel."
          },
          "furnished": {
            "type": "string",
            "example": "furnished",
            "description": "Estado do imóvel",
            "enum": [
              "furnished",
              "semi-furnished",
              "unfurnished"
            ]
          },
          "modality": {
            "type": "string",
            "example": "premium",
            "description": "Modalidade do pedido",
            "enum": [
              "standard",
              "premium"
            ]
          },
          "express": {
            "type": "boolean",
            "example": true,
            "description": "Opção por vistoria express"
          }
        }
      },
      "RejectedWebhook": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "example": "VLE.987.00125",
            "description": "Código do pedido"
          },
          "status": {
            "type": "string",
            "example": "REJECTED",
            "description": "Estado do pedido"
          },
          "building_id": {
            "type": "string",
            "example": "Apt 203 - Ed Atol das Rocas",
            "description": "Identificação do imóvel."
          },
          "observation": {
            "type": "string",
            "example": "Endereço não tem cobertura do serviço",
            "description": "Razão da recusa"
          }
        }
      },
      "Report": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "inspection",
            "description": "Tipo de relatório"
          },
          "label": {
            "type": "string",
            "example": "Relatório de vistoria",
            "description": "Nome do relatório"
          },
          "withPcitures": {
            "type": "boolean",
            "example": true,
            "description": "Informa se o relatório possui imagens."
          },
          "file_url": {
            "type": "string",
            "example": "https://relatorio.redevistorias.com.br/7f4c77a...",
            "description": "URL onde o relatório pode ser obtido"
          }
        }
      },
      "Responsible": {
        "type": "object",
        "description": "Dados referentes à pessoa física responsável pela empresa.",
        "required": [
          "name",
          "document"
        ],
        "properties": {
          "document": {
            "type": "string",
            "example": "000.000.999-99",
            "description": "CPF do responsável da empresa."
          },
          "name": {
            "type": "string",
            "example": "Novo Usuário",
            "description": "Nome completo do responsável da empresa."
          },
          "cellphone": {
            "type": "string",
            "example": "(48) 99999-9999",
            "description": "Telefone celular do responsável da empresa, se houver."
          },
          "phone": {
            "type": "string",
            "example": "(48) 3000-0000",
            "description": "Telefone do responsável da empresa."
          },
          "email": {
            "type": "string",
            "example": "ti@redevistorias.com.br",
            "description": "Email do responsável da empresa."
          },
          "address": {
            "$ref": "#/definitions/Address"
          }
        }
      },
      "TokenResponse": {
        "type": "object",
        "properties": {
          "token_type": {
            "type": "string",
            "enum": [
              "Bearer"
            ]
          },
          "expires_in": {
            "type": "integer",
            "example": 86400
          },
          "access_token": {
            "type": "string",
            "example": "eyJ0eXAiO..."
          },
          "refresh_token": {
            "type": "string",
            "example": "def50200f44a3a36..."
          }
        }
      },
      "TokenERP": {
        "type": "object",
        "title": "api_key",
        "required": [
          "grant_type",
          "client_id",
          "client_secret",
          "api_key"
        ],
        "properties": {
          "grant_type": {
            "type": "string",
            "enum": [
              "api_key"
            ],
            "in": "formData"
          },
          "client_id": {
            "type": "string",
            "in": "formData",
            "example": "erpfoo",
            "description": "Identificação do ERP na API da Rede Vistorias, essa informação é fornecida pela equipe da Rede Vistorias no momento da habilitação do ERP."
          },
          "client_secret": {
            "type": "string",
            "in": "formData",
            "example": "B8WbfvPVX1ic",
            "description": "Senha do ERP na API da Rede Vistorias"
          },
          "api_key": {
            "type": "string",
            "in": "formData",
            "example": "ZAltqyeoXLlZLR6N9QP0QfyE7asIz65wZ8eBfBDr8o7W4dk9W93beJy0rZleOgQmmkm4jkkW54kv7dxh"
          }
        }
      },
      "TokenERPClient": {
        "type": "object",
        "title": "client_credentials",
        "required": [
          "grant_type",
          "client_id",
          "client_secret",
          "scope"
        ],
        "properties": {
          "grant_type": {
            "type": "string",
            "example": "client_credentials",
            "enum": [
              "client_credentials"
            ],
            "in": "formData"
          },
          "client_id": {
            "type": "string",
            "example": "erpfoo",
            "description": "Identificação do cliente na API do Rede Vistorias.",
            "in": "formData"
          },
          "client_secret": {
            "type": "string",
            "example": "B8WbfvPVX1ic",
            "in": "formData",
            "description": "Senha do cliente na API da Rede Vistorias"
          },
          "scope": {
            "type": "string",
            "example": "client:create",
            "in": "formData",
            "description": "Lista de escopos, separados por um espaço em branco.",
            "enum": [
              "client:create"
            ]
          }
        }
      },
      "PreviousInspection": {
        "type": "object",
        "title": "PreviousInspection",
        "properties": {
          "file": {
            "$ref": "#/definitions/File"
          },
          "url": {
            "$ref": "#/definitions/Url"
          }
        }
      },
      "Url": {
        "title": "url",
              "type": "string",
              "example": "http://example.com?upload=File.pdf"
      },
      "File": {
        "type": "object",
        "title": "File",
        "required": [
          "remote_name",
          "original_name",
          "extension"
        ],
        "properties": {
          "remote_name": {
            "type": "string",
            "example": "75300A80-2E79-492F-8B3F-4B6239D1319F/ABD57818-40FE-11E9-A15D-02420A00001D"
          },
          "original_name": {
              "type": "string",
              "example": "vistoria-inicial"
          },
          "extension": {
            "type": "string",
            "example": "pdf"
          }
        }
      }
    }
  }
  